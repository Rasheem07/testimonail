(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[966],{2668:(e,t,s)=>{Promise.resolve().then(s.bind(s,8920))},5971:(e,t,s)=>{"use strict";s.d(t,{O:()=>a});var r=s(8357);let a=async e=>{let t;let s=(0,r.$)(),a=await fetch("http://localhost:5000/api/otp/sendmail",{method:"POST",headers:{"Content-Type":"application/json","xsrf-token":s._csrf},mode:"cors",body:JSON.stringify({user:e})}),o=await a.json();return a.ok||(t=o.error),{data:o,error:t}}},8920:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(7437),a=s(656),o=s(8357),n=s(6763),i=s(5971),l=s(6648),d=s(7138),c=s(6463),m=s(2265),u=s(517);function p(){let e=(0,c.useRouter)(),{toast:t}=(0,n.pm)(),[s,p]=(0,m.useState)({name:"",email:"",password:""}),[x,h]=(0,m.useState)({type:"",error:""}),[f,g]=(0,m.useState)(""),[y,b]=(0,m.useState)(!1),j=(0,u.b)();(0,m.useEffect)(()=>{j&&e.push("/dashboard"),x&&x.error?t({variant:"destructive",description:x.error}):f&&t({variant:"default",description:f})},[x,t,f,e,j]);let N=e=>{let{name:t,value:r}=e.target;p({...s,[t]:r})},S=async()=>{let r=(0,o.$)();console.log(r),b(!0);try{let a=await fetch("http://localhost:5000/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json","xsrf-token":r._csrf},credentials:"include",mode:"cors",body:JSON.stringify(s)}),o=await a.json();if(console.log("Server Response:",o),!a.ok){h({type:o.type,error:o.error}),b(!1);return}e.push("/signup/otp?email=".concat(s.email.toString())),b(!1);let n=await (0,i.O)(s.email.trim());n.error&&t({description:n.error,variant:"destructive"}),g(o.message),p({name:"",email:"",password:""}),h({type:"",error:""})}catch(e){console.error("Network or server error:",e),h({type:e.type,error:e})}};return(0,r.jsx)(r.Fragment,{children:y?(0,r.jsx)(a.Z,{}):(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),S()},className:"space-y-6  transition duration-500 ease-in-out",children:[(0,r.jsxs)("p",{className:"flex items-start text-base text-zinc-300 font-sans",children:[(0,r.jsx)("input",{required:!0,type:"checkbox",className:"h-4 w-4 mt-1 mr-2"})," I agree to the Testimonial Terms of Service and I'm aware my personal data is processed in accordance with our Privacy Policy. Please read it carefully."]}),(0,r.jsxs)("div",{className:"w-full flex gap-4 flex-1",children:[(0,r.jsx)(d.default,{href:"http://localhost:5000/api/auth/google",className:"py-3 px-6 gap-4 flex justify-center flex-1 bg-zinc-50 hover:bg-zinc-100 rounded-sm border border-gray-300 w-full divide-x divide-gray-800",children:(0,r.jsx)(l.default,{src:"/icons/google.png",alt:"",height:25,width:25,className:"object-contain"})}),(0,r.jsx)(d.default,{href:"http://localhost:5000/api/auth/github",className:"py-3 px-6 gap-4 flex flex-1 justify-center rounded-sm border border-gray-300 w-full divide-x divide-gray-800",children:(0,r.jsx)(l.default,{src:"/icons/github.png",alt:"",height:25,width:25,className:"object-contain"})})]}),(0,r.jsxs)("div",{className:"flex items-center w-full",children:[(0,r.jsx)("div",{className:"border-t border-zinc-500 border-dotted flex-grow mr-3"}),(0,r.jsx)("span",{className:"text-lg font-medium tracking-normal text-zinc-400",children:"OR Register with your email"}),(0,r.jsx)("div",{className:"border-t border-zinc-500 border-dotted flex-grow ml-3"})]}),(0,r.jsxs)("div",{className:"w-full flex flex-col gap-1.5",children:[(0,r.jsxs)("label",{htmlFor:"first_name",className:"text-sm font-medium text-zinc-300",children:["First name ",(0,r.jsx)("span",{className:"text-red-800",children:"*"})]}),(0,r.jsx)("input",{onChange:N,value:s.name,name:"name",required:!0,type:"text",id:"first_name",className:"rounded-sm shadow-md border border-gray-300 text-gray-800 px-4 py-2 placeholder:text-zinc-500 outline-none",placeholder:"Enter your first name:"})]}),(0,r.jsxs)("div",{className:"w-full flex flex-col gap-1.5",children:[(0,r.jsxs)("label",{htmlFor:"first_name",className:"text-sm font-medium text-zinc-300",children:["Email ",(0,r.jsx)("span",{className:"text-red-800",children:"*"})]}),(0,r.jsx)("input",{onChange:N,value:s.email,name:"email",required:!0,type:"email",id:"first_name",className:"rounded-sm shadow-md border border-gray-300 text-gray-800 px-4 py-2 placeholder:text-zinc-500 outline-none",placeholder:"Enter your eamil:"})]}),(0,r.jsxs)("div",{className:"w-full flex flex-col gap-1.5",children:[(0,r.jsxs)("label",{htmlFor:"first_name",className:"text-sm font-medium text-zinc-300",children:["Password ",(0,r.jsx)("span",{className:"text-red-800",children:"*"})]}),(0,r.jsx)("input",{onChange:N,value:s.password,name:"password",required:!0,type:"password",id:"first_name",className:"rounded-sm shadow-md border border-gray-300 text-gray-800 px-4 py-2 placeholder:text-zinc-500 outline-none",placeholder:"Enter your password:"})]}),(0,r.jsx)("button",{type:"submit",className:"text-zinc-100 hover:bg-purple-700 rounded-md w-full bg-purple-600 py-3 px-6 text-center",children:"Sign up"}),(0,r.jsxs)("p",{className:"text-sm text-zinc-400 mx-auto text-center",children:["You can also"," ",(0,r.jsx)("span",{className:"underline underline-offset-1",children:"continue with SAML SSO"})]}),(0,r.jsxs)("p",{className:"text-sm text-zinc-400 mx-auto text-center",children:["Already have an Account?"," ",(0,r.jsx)(d.default,{href:"/login",className:"font-medium text-purple-600",children:"Sign in"})]})]})})}},656:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(7437);s(2265);let a=()=>(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)("div",{className:"w-12 h-12 border-2 border-blue-500 border-t-transparent border-solid rounded-full animate-spin"})})},8357:(e,t,s)=>{"use strict";function r(){return document.cookie.split(";").map(e=>e.split("=")).reduce((e,t)=>{let[s,r]=t;return{...e,[s.trim()]:decodeURIComponent(r)}},{})}s.d(t,{$:()=>r})},6763:(e,t,s)=>{"use strict";s.d(t,{Am:()=>m,pm:()=>u});var r=s(2265);let a=0,o=new Map,n=e=>{if(o.has(e))return;let t=setTimeout(()=>{o.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);o.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?n(s):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],d={toasts:[]};function c(e){d=i(d,e),l.forEach(e=>{e(d)})}function m(e){let{...t}=e,s=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function u(){let[e,t]=r.useState(d);return r.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},517:(e,t,s)=>{"use strict";s.d(t,{b:()=>r});let r=()=>"true"===localStorage.getItem("isLoggedIn")}},e=>{var t=t=>e(e.s=t);e.O(0,[625,291,130,215,744],()=>t(2668)),_N_E=e.O()}]);